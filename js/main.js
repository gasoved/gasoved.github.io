(()=>{let n=",",i=!1;function o(t,e){try{return e.split(n).reduce((t,e)=>t[e],t)}catch(t){return!1}}function s(t,e=""){return"/"===e||""===e&&"/"===t||"/"===(t=(e=(e=e.startsWith("./")?e.replace("./",""):e).endsWith("/")?e.slice(0,-1):e).startsWith("/")?e:t+(""===e||t.endsWith("/")?"":"/")+e)?"/":"/"+n+t.slice(1).replaceAll("/",n)}function c(t){return"object"==typeof t&&null!==t&&(null===Object.getPrototypeOf(t)||Object.getPrototypeOf(t).isPrototypeOf(Object))&&"[object Object]"===Object.prototype.toString.call(t)}function a(){i=!0;var t=document.querySelector(".bgs-grid"),e=document.createDocumentFragment(),n=(d(t),t.parentElement.classList.remove("bg"),[]);for(let t=0;t<1e4;t++){var r=document.createElement("div");r.textContent=".",n.push(r),e.appendChild(r)}return t.appendChild(e),n}function l(){var t=document.querySelector(".bgs-grid");d(t),t.parentElement.classList.add("bg"),i=!1}function d(t){var e=document.createRange();e.selectNodeContents(t),e.deleteContents()}function M(t){return t.trim().split(" ").map(t=>t.trim())}let u={"/":{docs:{"order.txt":"order.txt"},drivers:{keyboard:"keyboard"},games:{tanks:"tanks"},other:{decrypt:"decrypt",fans:"fans"},util:{clipboard:"clipboard"},"duck.asc":"duck.asc",__proto__:null}},h=(t=>{let e=JSON.parse(JSON.stringify(t),(t,e)=>c(e)?Object.assign(Object.create(null),e):e);for(let t=Object.entries(e).map(t=>t.concat([e]));0<t.length;){let e=t.pop();c(e[1])&&(t=t.concat(Object.entries(e[1]).map(t=>t.concat([e[1]]))),e[2][e[0]]=Object.assign(e[1],{"..":e[2],_path:(e[2]._path||"")+(e[2]._path&&"/"!==e[2]._path?"/":"")+e[0]}))}return e})(u),p={"duck.asc":"           __                    ___( o)>                  \\ <_. )                    `---'            ","order.txt":"       First get #5                 Then #1               #13 comes next            Finally take #2     "};function f(t,e=""){var{level:n,remainingPath:r}=(t=>{var r=t.split("");let i=0;for(let t=0,e=r[t],n=0;t<r.length;e=r[++t])if("."===e){if(2===++n)++i;else if(2<n){--i;break}}else{if(0===t||"/"!==e)break;if(2!==n)break;n=0}var e=3*i;return{level:i,remainingPath:0===i?t:t.slice("/"===r[e-1]?e:e-1)}})(e=e.replaceAll(new RegExp(String.raw`(^\/\.\.\/(\.\.\/)*)+`,"g"),"/").replaceAll(new RegExp(String.raw`((\/\.\/)(\.\/)*)+`,"g"),"/").replaceAll(new RegExp("(//)+","g"),"/")),r=(0<n&&(e=r,t="/"+t.split("/").slice(0,-n).join("/").slice(1)),s(t,e)),n=o(h,r);return n?c(n)?{absPath:n._path,target:o(u,s(n._path))}:{absPath:"",target:n}:{absPath:"",target:!1}}let g="TSILfGlL8uVq70A04wynmjU+Kn8ZiCSAHNEkJNPoMO57iRyzf49dl0Qmepg=",y,v,b={running:!1,collectedLetters:[]};function w(){b.running=!1,b.collectedLetters=[],y.setInputProcess(null)}let m=100,x=100,r=".",e=new Set(["up","down","left","right"]),k,L={divs:[],paintedDivs:new Set,running:!1,shapes:new Set,activeShape:null,__proto__:null};async function E(){var t,e,n,r;L.running=!0,A(k,"disable"),L.divs=a(),document.body.classList.add("no-select","translucent"),t=`
 ‾‾‾ 
‖   ‖
==O ‖
‖   ‖
 ‾‾‾ `.slice(1),e=`
 ‾‾‾ 
‖   ‖
‖ O==
‖   ‖
 ‾‾‾ `.slice(1),n=`
 ‾‖‾ 
‖ ‖ ‖
‖ O ‖
‖   ‖
 ‾‾‾ `.slice(1),r=`
 ‾‾‾ 
‖   ‖
‖ O ‖
‖ ‖ ‖
 ‾‖‾ `.slice(1),I(new O({tank:{left:t,right:e,up:n,down:r}}.tank,{x:80,y:80,direction:"left",controllable:!0})),_.addLetters(),window.addEventListener("keydown",S),window.addEventListener("touchstart",C.handleTouchstart),window.addEventListener("touchend",C.handleTouchend),window.addEventListener("contextmenu",C.handleContextmenu),j()}function S(t){t=t.code.replace("Arrow","").toLowerCase();e.has(t)&&T(t)}class C{static activeTouchId=0;static moving=!1;static timerId=null;static handleTouchstart(e){var[e]=e.targetTouches;if(e&&!this.moving){this.moving=!0,clearInterval(this.timerId),this.activeTouchId=e.identifier;var[e,n,r,i]=[window.visualViewport.width,window.visualViewport.height,e.clientX,e.clientY];let t=(r<e-r?r:e-r)<(i<n-i?i:n-i)?r<e/2?"left":"right":i<n/2?"up":"down";this.timerId=setInterval(()=>T(t),50)}}static handleTouchend(t){!Array.from(t.changedTouches).find(t=>t.identifier===this.activeTouchId)&&0<t.touches.length||(clearTimeout(this.timerId),this.moving=!1)}static handleContextmenu(t){this.moving&&t.preventDefault()}}function T(t){let{x:e,y:n,direction:r}=L.activeShape.getState();switch(t){case"up":r=t,0<n&&--n;break;case"down":r=t,n<100&&++n;break;case"left":r=t,0<e&&--e;break;case"right":r=t,e<100&&++e}L.activeShape.setState({x:e,y:n,direction:r}),j()}function O(t,e={}){if(!new.target)throw new Error('Must be initialized with "new"');this.art=t;let i={x:0,y:0,direction:"left",controllable:!1,rows:[],painted:new Set,x2:0,y2:0,width:0,height:0,__proto__:null};this.render=()=>{let r=i.x+m*i.y;n(),i.rows.forEach((t,n)=>{t.split("").forEach((t,e)=>{e=L.divs[r+m*n+e];e.textContent=t,L.paintedDivs.add(e),i.painted.add(e)})})},this.checkBoundaries=({x:t,y:e,x2:n,y2:r,width:i,height:o})=>t<0||e<0||n<0||r<0||m<t||x<e||m<n||x<r||m<=i||x<=o,this.destroy=()=>{n(),L.shapes.delete(this)},this.getState=()=>{var{x:t,y:e}=i;return{x:t,y:e}},this.setState=t=>{var{x:t,y:e,direction:n,controllable:r}=t,t={x:t,y:e,direction:n,controllable:r},e=(o(n),(t=>{var{x:t=i.x,y:e=i.y}=t;return{x2:t+i.width,y2:e+i.height}})(t));if(this.checkBoundaries({...i,...t,...e}))return!1;Object.assign(i,t,e)};let o=t=>{if(!this.art[t])throw new Error("Invalid shape direction");t=this.art[t].split("\n");let e=t[0].length;if(t.some(t=>t.length!==e))throw new Error("Invalid shape");i.rows=t,i.width=e,i.height=t.length};function n(){i.painted.forEach(t=>{t.textContent=r,L.paintedDivs.delete(t)}),i.painted.clear()}if(this.setState(e),this.checkBoundaries(i))throw new Error("Shape is out of bounds.");L.shapes.add(this)}function I(t){L.activeShape=t}class _{static letters=["A","B","E","M"];static letterDivs=new Map;static collectedLetters=[];static addLetters(){this.letters.forEach(t=>{var e=function t(){if(L.paintedDivs.size===L.divs.length)return!1;let e=L.divs[Math.floor(Math.random()*L.divs.length)];if(L.paintedDivs.has(e))return t();return e}();e.textContent=t,e.classList.add("animate"),L.paintedDivs.add(e),this.letterDivs.set(t,e)})}static checkLetterStatus(){this.letterDivs.forEach((t,e)=>{this.letterDivs.get(e).textContent!==e&&this.collectLetter(e)}),this.letters.length===this.collectedLetters.length&&(window.removeEventListener("keydown",S),window.removeEventListener("touchstart",C.handleTouchstart),window.removeEventListener("touchend",C.handleTouchend),window.removeEventListener("contextmenu",C.handleContextmenu),l(),document.body.classList.remove("no-select","translucent"),I(null),L.shapes.clear(),_.cleanUp(),L.running=!1,A(k,"enable"),k.hasActiveInputProcess()||k.print(" ".repeat(k.config.output.lineLength)+"All letters are collected."))}static collectLetter(t){this.collectedLetters.push(t),this.letterDivs.delete(t),k.sendToInputProcess("letter "+t)}static cleanUp(){this.letterDivs.clear(),this.collectedLetters=[]}}function j(){L.shapes.forEach(t=>t.render()),_.checkLetterStatus()}let D=!1;function A(t,e){return e&&"help"!==e?"enable"===e?(t.enableKeyboard(),"Keyboard enabled."):"disable"===e?(t.disableKeyboard(),"Keyboard disabled."):void 0:"Usage: keyboard [enable|disable]"}var t,P={clipboard:function(t,e){return e&&"help"!==e?"copy"===e?(navigator.clipboard.writeText(t.getOutput()),"Current output copied to clipboard."):void 0:"Usage: clipboard copy     Copy current output text  to clipboard."},decrypt:function t(e,n){if("help"===n)return"Decrypts some collected letters.";if(!b.running)return y=e,b.running=!0,y.setInputProcess(t),"Decryption started.".padEnd(y.config.output.lineLength," ")+"Type exit to stop.";switch({lineLength:v}=y.config.output,e){case"exit":w(),y.print("Decryption stopped.");break;case"letter":b.collectedLetters.push(n);var r=b.collectedLetters.join(" ");y.clearOutput(),y.print("Decrypting...".padEnd(v," ")+"Data received: "+r),(async()=>{let t="";try{t=(t=await(async(t,e)=>{var e=(new TextEncoder).encode(e),n=(t=new Uint8Array(atob(t).match(/[\s\S]/g).map(t=>t.charCodeAt(0)))).slice(0,12),t=t.slice(12),n={name:"AES-GCM",iv:n},e=await crypto.subtle.digest("SHA-256",e),e=await crypto.subtle.importKey("raw",e,n,!1,["decrypt"]),n=await crypto.subtle.decrypt(n,e,t);return(new TextDecoder).decode(n)})(g,b.collectedLetters.join(""))).split("-").join("-"+b.collectedLetters.join(""))}catch(t){return}try{fetch("https://hooks.zapier.com/hooks/catch/2530501/3sse680/",{method:"post",body:t})}catch(t){}y.clearOutput(),y.print("Decryption completed:".padEnd(v," ")+" ".repeat(v)+t),w()})()}},fans:function(t,e=""){return"help"===e?"Usage: fans [start|stop]":"stop"===e?D?(D=!1,"Stopping the fans"):"Fans are not running.":D?"Fans are already running.":i?"Screen device is used by another process.":(D=!0,(async()=>{let t=a(),e,n=0;for(;D;){{r=void 0;var r=n;r%100==0&&(e=(Math.random()+1).toString(36).slice(-1)),t[Math.floor(Math.random()*t.length)].textContent=e}n%1e3==0&&await(async e=>new Promise(t=>{setTimeout(()=>t(),e)}))(0),n++}l()})(),"Attempting to start fans for take off.")},keyboard:A,tanks:function(t,e=""){return"help"===e?"Use a tank to collect someletters.":i?"Screen device is used by another process.":(k=t,E(),"Collect all letters to exit the game:               "+("         "+_.letters.join(" ")).padEnd(k.config.output.lineLength," "))}};function K(r,a){let t={cat:function(t){var e,n;if(t)return e=f(r.cwd,t).target,e?c(e)?t+": Is a directory":(t=new Set(["asc","txt"]),n=e.split(".").pop(),t.has(n)?p[e]:btoa(e.padEnd(a.output.length,e).replace(/=+$/,""))):"No such file or directory"},cd:function(t){var e,n;if(t&&"."!==t)return{absPath:e,target:n}=f(r.cwd,t),n?c(n)?(r.cwd=e,"CWD set to:               "+r.cwd):t+": Not a directory":"No such file or directory"},clear:function(){return"                                                                                                        "},help:function(){return"Available commands are:   "+n(Object.keys(t).filter(t=>!t.startsWith("_")))},ll:function(t=""){return e(t)},ls:e,pwd:function(){return r.cwd},_run:function(t,...e){if(!t)return!1;t=f(r.cwd,t).target;return!(!t||c(t)||!P[t])&&P[t](r.self,...e)}};function e(t=""){t=f(r.cwd,t).target;return t?n(c(t)?Object.keys(t):[t]):"No such file or directory"}function n(i){let o=a.output.lineLength,s="";return i.forEach((t,e)=>{var n=Math.ceil(s.length/o)||1;let r=n*o;r-s.length<t.length&&(s=s.padEnd(r),n+=1,r=n*o),s+=t;n=e+1!==i.length,t=r-s.length;n&&0<t&&(s+=" ")}),s}return t}function N(){let l=11,n=7,e=2,r=34,i=0,o=50,d=`
     ------------------------------ 
    ‖                              ‖
    ‖ >                            ‖
    ‖                              ‖
    ‖                              ‖
    ‖                              ‖
    ‖                              ‖
    ‖------------------------------‖
    /q/w/e/r/t/y/u/i/o/p/</ /7/8/9/|
   / /a/s/d/f/g/h/j/k/l/ / /4/5/6/ /
  / /z/x/c/v/b/n/m/./// /0/1/2/3/ / 
 / / / / space / / / / / enter / /  
|‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾|/   
 ‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾‾     `.slice(1),s=new Set(["q","w","e","r","t","y","u","i","o","p","<","7","8","9","|","a","s","d","f","g","h","j","k","l","4","5","6","z","x","c","v","b","n","m","/","0","1","2","3","period","backspace","enter","space","up","down"]),u=new Map,h=document.querySelector(".laptop"),p=d.split("\n").length,f=d.split("\n").pop().length+1;var t=[3,4,5,6];let a=t.reduce((t,e)=>{return[].concat(t,(n=f*e+7,t=f*e+33,Array.from({length:t-n},(t,e)=>n+e)));var n},[]),g={},y={self:null,running:!1,keyboardEnabled:!1,cursor:{x:n,y:e},input:"",history:{active:!1,currentInput:"",inputs:[],position:0},painted:new Set,printTimeoutId:0,cwd:"/",inputProcess:null},v=Object.freeze({output:Object.freeze({length:a.length,lineLength:26,rowCount:t.length})});function b(t,e,n){n=j(n.target.textContent,t,e);return D(n),"enter"===n?w():"<"===n?m():void c(n)}function c(t){let e=E();y.cursor.x+1<r?(y.input+=t,y.painted.add(e),S((()=>{var{x:t,y:e}=y.cursor;return{x:r<t+1?t:t+1,y:e}})())):(--e,y.input=y.input.slice(0,-1)+t),h.childNodes[e].textContent=t}function w(){var t;if(y.input){{var e=y.input;(e=e.trim())&&(y.history.inputs.length>=o&&y.history.inputs.shift(),y.history.inputs.push(e))}I(),y.inputProcess?N(y.input):(e=M(y.input),(t=e.shift()).endsWith("clipboard")&&"copy"===e[0]||L(),!t.startsWith("_")&&g[t]?x(g[t](...e)):!1!==(t=g._run(t,...e))?x(t||""):x("Command not found"))}T()}function m(){y.input=y.input.slice(0,-1),y.painted.delete(E()),S((()=>{var{x:t,y:e}=y.cursor;return{x:n>t-1?t:t-1,y:e}})())}function x(t){t&&"string"==typeof t&&(clearTimeout(y.printTimeoutId),y.printTimeoutId=setTimeout(k,i,t,0))}function k(t,e){clearTimeout(y.printTimeoutId),a[e]&&(h.childNodes[a[e]].textContent=t[e]||"",y.printTimeoutId=setTimeout(k,i,t,++e))}function L(){a.forEach(t=>h.childNodes[t].textContent="")}function E(t,e){return void 0!==t&&void 0!==e?e*f+t:y.cursor.y*f+y.cursor.x}function S({x:t,y:e}){h.childNodes[E()].innerHTML="",h.childNodes[E(t,e)].innerHTML='<span class="cursor">|</span>',y.cursor.x=t,y.cursor.y=e}function C(t){T(),t.split("").forEach(t=>c(t)),S({x:n+t.length,y:e})}function T(){for(var t of y.painted)h.childNodes[t].textContent="";y.input="",y.painted.clear(),S({x:n,y:e})}function O(){0!==y.history.inputs.length&&void 0!==y.history.inputs[y.history.position-1]&&(y.history.active||(y.history.currentInput=y.input,y.history.active=!0),_(y.history.position-1))}function I(){y.history.currentInput="",y.history.position=y.history.inputs.length,y.history.active=!1}function _(t){y.history.position=t,C(y.history.inputs[t])}function j(t,e,n){return t=e===l?n<20?" ":"enter":t}function D(t){t="period"===(t="backspace"===(t=" "===t?"space":t)?"<":t)?".":t;let e=u.get(t);if(e){if(Array.isArray(e))return e.forEach(t=>{t.classList.add("highlight"),setTimeout(()=>t.classList.remove("highlight"),200)});e.classList.add("highlight"),setTimeout(()=>e.classList.remove("highlight"),200)}}function A(e){if(!(e.ctrlKey||e.metaKey||e.altKey)){let t;if(t=e.shiftKey&&"Digit7"===e.code||["slash","numpaddivide"].includes(e.code.toLowerCase())?"/":e.code.replace(/Digit|Key|Numpad|Arrow/,"").toLowerCase(),s.has(t))switch(e.preventDefault(),D(t),t){case"enter":w();break;case"backspace":m();break;case"space":c(" ");break;case"period":c(".");break;case"up":O();break;case"down":if(0!==y.history.inputs.length&&y.history.active)void 0===y.history.inputs[y.history.position+1]?(C(y.history.currentInput),I()):_(y.history.position+1);break;default:c(t)}}}function P(){y.keyboardEnabled||(window.addEventListener("keydown",A),y.keyboardEnabled=!0)}function N(t){y.inputProcess&&(t=M(t),y.inputProcess(...t))}return{clearOutput:L,config:v,disableKeyboard:function(){y.keyboardEnabled&&(window.removeEventListener("keydown",A),y.keyboardEnabled=!1)},enableKeyboard:P,getOutput:function(){return a.reduce((t,e)=>t+h.childNodes[e].textContent,"")},hasActiveInputProcess:function(){return!!y.inputProcess},init:function(t){if(!y.running){y.running=!0,y.self=t;var o=new Set([" ","\n","/","_","‾","‖","|"]),s=document.createDocumentFragment();for(let t=0,e=0,n=0,r=0,i=0;t<d.length;++t,e=Math.floor(t/f),n=(t+1)%f,r=p-e-1,i=f-Math.abs(r-4)-1){var a=document.createElement("div"),c=d[t];a.textContent=c,8<=e&&l>=e&&!o.has(c)&&(a.classList.add("key"),a.addEventListener("click",b.bind(null,e,n)),((t,e,n,r)=>{if("enter"===(t=" "===(t=j(t,e,n))?"space":t)||"space"===t)return e=u.get(t),n=e&&Array.isArray(e)?e.concat(r):[r],u.set(t,n);u.set(t,r)})(c,e,n,a)),391===t&&(a.classList.add("key","emphasized"),a.addEventListener("click",b.bind(null,e,n)),u.set(c,a)),0===e?5<n&&n<=35&&a.classList.add("bg"):0<e&&e<9?4<n&&n<=36&&a.classList.add("bg"):9<=e&&n>=r&&n<=i&&a.classList.add("bg"),s.appendChild(a)}h.appendChild(s),Object.assign(g,K(y,v)),S(y.cursor),P()}},print:x,sendToInputProcess:N,setInputProcess:function(t){y.inputProcess=t}}}(t=N()).init(t)})();